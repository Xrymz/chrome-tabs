(function(){
var $jscomp={scope:{},getGlobal:function(h){return"undefined"!=typeof window&&window===h?h:"undefined"!=typeof global&&null!=global?global:h}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.findInternal=function(h,g,m){h instanceof String&&(h=String(h));for(var d=h.length,a=0;a<d;a++){var l=h[a];if(g.call(m,l,a,h))return{i:a,v:l}}return{i:-1,v:void 0}};
$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(h,g,m){if(m.get||m.set)throw new TypeError("ES3 does not support getters and setters.");h!=Array.prototype&&h!=Object.prototype&&(h[g]=m.value)};$jscomp.polyfill=function(h,g,m,d){if(g){m=$jscomp.global;h=h.split(".");for(d=0;d<h.length-1;d++){var a=h[d];a in m||(m[a]={});m=m[a]}h=h[h.length-1];d=m[h];g=g(d);g!=d&&null!=g&&$jscomp.defineProperty(m,h,{configurable:!0,writable:!0,value:g})}};
$jscomp.polyfill("Array.prototype.find",function(h){return h?h:function(g,h){return $jscomp.findInternal(this,g,h).v}},"es6-impl","es3");
(function e$jscomp$0(g,m,d){function a(c,f){if(!m[c]){if(!g[c]){var b="function"==typeof require&&require;if(!f&&b)return b(c,!0);if(l)return l(c,!0);f=Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f;}f=m[c]={exports:{}};g[c][0].call(f.exports,function(b){var e=g[c][1][b];return a(e?e:b)},f,f.exports,e$jscomp$0,g,m,d)}return m[c].exports}for(var l="function"==typeof require&&require,q=0;q<d.length;q++)a(d[q]);return a})({1:[function(h,g,m){(function(d,a){"function"==typeof define&&
define.amd?define(["get-size/get-size","unidragger/unidragger"],function(l,h){return a(d,l,h)}):"object"==typeof g&&g.exports?g.exports=a(d,h("get-size"),h("unidragger")):d.Draggabilly=a(d,d.getSize,d.Unidragger)})(window,function(d,a,l){function h(b,c){for(var a in c)b[a]=c[a];return b}function c(c,a){this.element="string"==typeof c?b.querySelector(c):c;p&&(this.$element=p(this.element));this.options=h({},this.constructor.defaults);this.option(a);this._create()}function f(b,c,a){return c?Math[a||
"round"](b/c)*c:b}var b=d.document,e=d.requestAnimationFrame||d.webkitRequestAnimationFrame||d.mozRequestAnimationFrame,k=0;e||(e=function(b){var c=(new Date).getTime(),a=Math.max(0,16-(c-k));b=setTimeout(b,a);k=c+a;return b});var n="string"==typeof b.documentElement.style.transform?"transform":"WebkitTransform",p=d.jQuery;l=c.prototype=Object.create(l.prototype);c.defaults={};l.option=function(b){h(this.options,b)};var g={relative:!0,absolute:!0,fixed:!0};l._create=function(){this.position={};this._getPosition();
this.startPoint={x:0,y:0};this.dragPoint={x:0,y:0};this.startPosition=h({},this.position);var b=getComputedStyle(this.element);g[b.position]||(this.element.style.position="relative");this.enable();this.setHandles()};l.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element];this.bindHandles()};l.dispatchEvent=function(b,c,a){var e=[c].concat(a);this.emitEvent(b,e);(e=d.jQuery)&&this.$element&&(c?(c=e.Event(c),c.type=b,this.$element.trigger(c,
a)):this.$element.trigger(b,a))};l._getPosition=function(){var b=getComputedStyle(this.element),c=this._getPositionCoord(b.left,"width"),a=this._getPositionCoord(b.top,"height");this.position.x=isNaN(c)?0:c;this.position.y=isNaN(a)?0:a;this._addTransformPosition(b)};l._getPositionCoord=function(b,c){if(-1!=b.indexOf("%")){var e=a(this.element.parentNode);return e?parseFloat(b)/100*e[c]:0}return parseInt(b,10)};l._addTransformPosition=function(b){var c=b[n];if(0===c.indexOf("matrix")){b=c.split(",");
var a=0===c.indexOf("matrix3d")?12:4,c=parseInt(b[a],10);b=parseInt(b[a+1],10);this.position.x+=c;this.position.y+=b}};l.pointerDown=function(c,a){this._dragPointerDown(c,a);var e=b.activeElement;e&&e.blur&&e!=b.body&&e.blur();this._bindPostStartEvents(c);this.element.classList.add("is-pointer-down");this.dispatchEvent("pointerDown",c,[a])};l.pointerMove=function(b,c){var a=this._dragPointerMove(b,c);this.dispatchEvent("pointerMove",b,[c,a]);this._dragMove(b,c,a)};l.dragStart=function(b,c){this.isEnabled&&
(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",b,[c]),this.animate())};l.measureContainment=function(){var c=this.options.containment;if(c){var e=c instanceof HTMLElement?c:"string"==typeof c?b.querySelector(c):this.element.parentNode,c=a(this.element),f=a(e),k=this.element.getBoundingClientRect(),
p=e.getBoundingClientRect(),e=f.borderLeftWidth+f.borderRightWidth,n=f.borderTopWidth+f.borderBottomWidth,k=this.relativeStartPosition={x:k.left-(p.left+f.borderLeftWidth),y:k.top-(p.top+f.borderTopWidth)};this.containSize={width:f.width-e-k.x-c.width,height:f.height-n-k.y-c.height}}};l.dragMove=function(b,c,a){if(this.isEnabled){var e=a.x,k=a.y,p=this.options.grid,n=p&&p[0],p=p&&p[1],e=f(e,n),k=f(k,p),e=this.containDrag("x",e,n),k=this.containDrag("y",k,p),e="y"==this.options.axis?0:e,k="x"==this.options.axis?
0:k;this.position.x=this.startPosition.x+e;this.position.y=this.startPosition.y+k;this.dragPoint.x=e;this.dragPoint.y=k;this.dispatchEvent("dragMove",b,[c,a])}};l.containDrag=function(b,c,a){if(!this.options.containment)return c;var e="x"==b?"width":"height";b=f(-this.relativeStartPosition[b],a,"ceil");e=this.containSize[e];e=f(e,a,"floor");return Math.min(e,Math.max(b,c))};l.pointerUp=function(b,c){this.element.classList.remove("is-pointer-down");this.dispatchEvent("pointerUp",b,[c]);this._dragPointerUp(b,
c)};l.dragEnd=function(b,c){this.isEnabled&&(n&&(this.element.style[n]="",this.setLeftTop()),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",b,[c]))};l.animate=function(){if(this.isDragging){this.positionDrag();var b=this;e(function(){b.animate()})}};l.setLeftTop=function(){this.element.style.left=this.position.x+"px";this.element.style.top=this.position.y+"px"};l.positionDrag=function(){this.element.style[n]="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"};
l.staticClick=function(b,c){this.dispatchEvent("staticClick",b,[c])};l.enable=function(){this.isEnabled=!0};l.disable=function(){this.isEnabled=!1;this.isDragging&&this.dragEnd()};l.destroy=function(){this.disable();this.element.style[n]="";this.element.style.left="";this.element.style.top="";this.element.style.position="";this.unbindHandles();this.$element&&this.$element.removeData("draggabilly")};l._init=function(){};p&&p.bridget&&p.bridget("draggabilly",c);return c})},{"get-size":3,unidragger:4}],
2:[function(h,g,m){(function(d,a){"function"==typeof define&&define.amd?define(a):"object"==typeof g&&g.exports?g.exports=a():d.EvEmitter=a()})("undefined"!=typeof window?window:this,function(){function d(){}var a=d.prototype;a.on=function(a,d){if(a&&d){var c=this._events=this._events||{};a=c[a]=c[a]||[];-1==a.indexOf(d)&&a.push(d);return this}};a.once=function(a,d){if(a&&d){this.on(a,d);var c=this._onceEvents=this._onceEvents||{};(c[a]=c[a]||{})[d]=!0;return this}};a.off=function(a,d){if((a=this._events&&
this._events[a])&&a.length)return d=a.indexOf(d),-1!=d&&a.splice(d,1),this};a.emitEvent=function(a,d){var c=this._events&&this._events[a];if(c&&c.length){var f=0,b=c[f];d=d||[];for(var e=this._onceEvents&&this._onceEvents[a];b;){var k=e&&e[b];k&&(this.off(a,b),delete e[b]);b.apply(this,d);f+=k?0:1;b=c[f]}return this}};return d})},{}],3:[function(h,g,m){(function(d,a){"function"==typeof define&&define.amd?define(function(){return a()}):"object"==typeof g&&g.exports?g.exports=a():d.getSize=a()})(window,
function(){function d(b){var c=parseFloat(b);return-1==b.indexOf("%")&&!isNaN(c)&&c}function a(){}function l(b){(b=getComputedStyle(b))||c("Style returned "+b+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1");return b}function h(c){if(!e){e=!0;var a=document.createElement("div");a.style.width="200px";a.style.padding="1px 2px 3px 4px";a.style.borderStyle="solid";a.style.borderWidth="1px 2px 3px 4px";a.style.boxSizing="border-box";var n=document.body||document.documentElement;
n.appendChild(a);var g=l(a);h.isBoxSizeOuter=k=200==d(g.width);n.removeChild(a)}"string"==typeof c&&(c=document.querySelector(c));if(c&&"object"==typeof c&&c.nodeType){n=l(c);if("none"==n.display){a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(n=0;n<b;n++)a[f[n]]=0;return a}a={};a.width=c.offsetWidth;a.height=c.offsetHeight;c=a.isBorderBox="border-box"==n.boxSizing;for(g=0;g<b;g++){var m=f[g],q=parseFloat(n[m]);a[m]=isNaN(q)?0:q}var g=a.paddingLeft+a.paddingRight,m=
a.paddingTop+a.paddingBottom,q=a.marginLeft+a.marginRight,w=a.marginTop+a.marginBottom,t=a.borderLeftWidth+a.borderRightWidth,u=a.borderTopWidth+a.borderBottomWidth;c=c&&k;var v=d(n.width);!1!==v&&(a.width=v+(c?0:g+t));n=d(n.height);!1!==n&&(a.height=n+(c?0:m+u));a.innerWidth=a.width-(g+t);a.innerHeight=a.height-(m+u);a.outerWidth=a.width+q;a.outerHeight=a.height+w;return a}}var c="undefined"==typeof console?a:function(b){console.error(b)},f="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" "),
b=f.length,e=!1,k;return h})},{}],4:[function(h,g,m){(function(d,a){"function"==typeof define&&define.amd?define(["unipointer/unipointer"],function(g){return a(d,g)}):"object"==typeof g&&g.exports?g.exports=a(d,h("unipointer")):d.Unidragger=a(d,d.Unipointer)})(window,function(d,a){function g(){}function h(){}var c=h.prototype=Object.create(a.prototype);c.bindHandles=function(){this._bindHandles(!0)};c.unbindHandles=function(){this._bindHandles(!1)};var f=d.navigator;c._bindHandles=function(b){b=void 0===
b?!0:!!b;var a;a=f.pointerEnabled?function(a){a.style.touchAction=b?"none":""}:f.msPointerEnabled?function(a){a.style.msTouchAction=b?"none":""}:g;for(var c=b?"addEventListener":"removeEventListener",d=0;d<this.handles.length;d++){var p=this.handles[d];this._bindStartEvent(p,b);a(p);p[c]("click",this)}};c.pointerDown=function(b,a){if("INPUT"==b.target.nodeName&&"range"==b.target.type)this.isPointerDown=!1,delete this.pointerIdentifier;else{this._dragPointerDown(b,a);var c=document.activeElement;c&&
c.blur&&c.blur();this._bindPostStartEvents(b);this.emitEvent("pointerDown",[b,a])}};c._dragPointerDown=function(b,c){this.pointerDownPoint=a.getPointerPoint(c);this.canPreventDefaultOnPointerDown(b,c)&&b.preventDefault()};c.canPreventDefaultOnPointerDown=function(b){return"SELECT"!=b.target.nodeName};c.pointerMove=function(b,a){var c=this._dragPointerMove(b,a);this.emitEvent("pointerMove",[b,a,c]);this._dragMove(b,a,c)};c._dragPointerMove=function(b,c){var e=a.getPointerPoint(c),e={x:e.x-this.pointerDownPoint.x,
y:e.y-this.pointerDownPoint.y};!this.isDragging&&this.hasDragStarted(e)&&this._dragStart(b,c);return e};c.hasDragStarted=function(b){return 3<Math.abs(b.x)||3<Math.abs(b.y)};c.pointerUp=function(b,a){this.emitEvent("pointerUp",[b,a]);this._dragPointerUp(b,a)};c._dragPointerUp=function(b,a){this.isDragging?this._dragEnd(b,a):this._staticClick(b,a)};c._dragStart=function(b,c){this.isDragging=!0;this.dragStartPoint=a.getPointerPoint(c);this.isPreventingClicks=!0;this.dragStart(b,c)};c.dragStart=function(b,
a){this.emitEvent("dragStart",[b,a])};c._dragMove=function(b,a,c){this.isDragging&&this.dragMove(b,a,c)};c.dragMove=function(b,a,c){b.preventDefault();this.emitEvent("dragMove",[b,a,c])};c._dragEnd=function(b,a){this.isDragging=!1;setTimeout(function(){delete this.isPreventingClicks}.bind(this));this.dragEnd(b,a)};c.dragEnd=function(b,a){this.emitEvent("dragEnd",[b,a])};c.onclick=function(b){this.isPreventingClicks&&b.preventDefault()};c._staticClick=function(b,a){if(!this.isIgnoringMouseUp||"mouseup"!=
b.type){var c=b.target.nodeName;"INPUT"!=c&&"TEXTAREA"!=c||b.target.focus();this.staticClick(b,a);"mouseup"!=b.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}};c.staticClick=function(b,a){this.emitEvent("staticClick",[b,a])};h.getPointerPoint=a.getPointerPoint;return h})},{unipointer:5}],5:[function(h,g,m){(function(d,a){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(g){return a(d,g)}):"object"==typeof g&&g.exports?
g.exports=a(d,h("ev-emitter")):d.Unipointer=a(d,d.EvEmitter)})(window,function(d,a){function g(){}a=g.prototype=Object.create(a.prototype);a.bindStartEvent=function(a){this._bindStartEvent(a,!0)};a.unbindStartEvent=function(a){this._bindStartEvent(a,!1)};a._bindStartEvent=function(a,f){f=void 0===f||f?"addEventListener":"removeEventListener";if(d.navigator.pointerEnabled)a[f]("pointerdown",this);else if(d.navigator.msPointerEnabled)a[f]("MSPointerDown",this);else a[f]("mousedown",this),a[f]("touchstart",
this)};a.handleEvent=function(a){var c="on"+a.type;if(this[c])this[c](a)};a.getTouch=function(a){for(var c=0;c<a.length;c++){var b=a[c];if(b.identifier==this.pointerIdentifier)return b}};a.onmousedown=function(a){var c=a.button;c&&0!==c&&1!==c||this._pointerDown(a,a)};a.ontouchstart=function(a){this._pointerDown(a,a.changedTouches[0])};a.onMSPointerDown=a.onpointerdown=function(a){this._pointerDown(a,a)};a._pointerDown=function(a,f){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=
void 0!==f.pointerId?f.pointerId:f.identifier,this.pointerDown(a,f))};a.pointerDown=function(a,f){this._bindPostStartEvents(a);this.emitEvent("pointerDown",[a,f])};var h={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};a._bindPostStartEvents=function(a){a&&(a=h[a.type],a.forEach(function(a){d.addEventListener(a,this)},this),this._boundPointerEvents=
a)};a._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(a){d.removeEventListener(a,this)},this),delete this._boundPointerEvents)};a.onmousemove=function(a){this._pointerMove(a,a)};a.onMSPointerMove=a.onpointermove=function(a){a.pointerId==this.pointerIdentifier&&this._pointerMove(a,a)};a.ontouchmove=function(a){var c=this.getTouch(a.changedTouches);c&&this._pointerMove(a,c)};a._pointerMove=function(a,d){this.pointerMove(a,d)};a.pointerMove=function(a,
d){this.emitEvent("pointerMove",[a,d])};a.onmouseup=function(a){this._pointerUp(a,a)};a.onMSPointerUp=a.onpointerup=function(a){a.pointerId==this.pointerIdentifier&&this._pointerUp(a,a)};a.ontouchend=function(a){var c=this.getTouch(a.changedTouches);c&&this._pointerUp(a,c)};a._pointerUp=function(a,d){this._pointerDone();this.pointerUp(a,d)};a.pointerUp=function(a,d){this.emitEvent("pointerUp",[a,d])};a._pointerDone=function(){this.isPointerDown=!1;delete this.pointerIdentifier;this._unbindPostStartEvents();
this.pointerDone()};a.pointerDone=function(){};a.onMSPointerCancel=a.onpointercancel=function(a){a.pointerId==this.pointerIdentifier&&this._pointerCancel(a,a)};a.ontouchcancel=function(a){var c=this.getTouch(a.changedTouches);c&&this._pointerCancel(a,c)};a._pointerCancel=function(a,d){this._pointerDone();this.pointerCancel(a,d)};a.pointerCancel=function(a,d){this.emitEvent("pointerCancel",[a,d])};g.getPointerPoint=function(a){return{x:a.pageX,y:a.pageY}};return g})},{"ev-emitter":2}],6:[function(h,
g,m){(function(d,a){if("function"===typeof define&&define.amd)define(["jquery","draggabilly/draggabilly"],function(c,f){return a(d,c,f)});else if("object"===typeof g&&g.exports){var l=d.jQuery||h("jquery"),m=d.Draggabilly||h("draggabilly");g.exports=a(d,l,m)}else a(d,jQuery,Draggabilly)})(window,function(d,a,g){var h=-1,c=function(b){this.defaultSettings={obj:".chrome-tabz",minWidth:45,maxWidth:243,leftPadding:0,leftPaddingMobile:0,rightPadding:300,rightPaddingMobile:45,overlapDistance:14,viewz:"iframes",
allowDragNDrop:!0,allowDoubleClick:!0,initial:[],defaultProps:{url:"https://duckduckgo.com/?kae=b&kak=-1&kao=-1&k1=-1&kt=p&kj=f5f5f5&ka=p&kf=1&kam=google-maps&km=l&ko=1",title:"New Tab",favicon:"default",loadingFavicon:"loading",unknownUrlTitle:"Web Page",allowClose:!0,viewAttrs:{}},debug:!1};if(b&&"object"!==typeof b)throw"`settings` is not an object.";this.settings=a.extend(!0,{},this.defaultSettings,b||{});if(-1===a.inArray(typeof this.settings.obj,["string","object"]))throw"`obj` must be a string selector, jQuery, or an element in the DOM.";
if(1!==(this.$obj=a(this.settings.obj).first()).length)throw"Unable to locate a single `obj` in the DOM.";if("number"!==typeof this.settings.minWidth||isNaN(this.settings.minWidth))throw"`minWidth` is not a number.";if("number"!==typeof this.settings.maxWidth||isNaN(this.settings.maxWidth))throw"`maxWidth` is not a number.";if("number"!==typeof this.settings.leftPadding||isNaN(this.settings.leftPadding))throw"`leftPadding` is not a number.";if("number"!==typeof this.settings.leftPaddingMobile||isNaN(this.settings.leftPaddingMobile))throw"`leftPaddingMobile` is not a number.";
if("number"!==typeof this.settings.rightPadding||isNaN(this.settings.rightPadding))throw"`rightPadding` is not a number.";if("number"!==typeof this.settings.rightPaddingMobile||isNaN(this.settings.rightPaddingMobile))throw"`rightPaddingMobile` is not a number.";if("number"!==typeof this.settings.overlapDistance||isNaN(this.settings.overlapDistance))throw"`overlapDistance` is not a number.";if(-1===a.inArray(this.settings.viewz,["","iframes","webviews"]))throw"`viewz` must be: iframes, webviews, or an empty string.";
if("boolean"!==typeof this.settings.allowDragNDrop)throw"`allowDragNDrop` is not a boolean.";if("boolean"!==typeof this.settings.allowDoubleClick)throw"`allowDoubleClick` is not a boolean.";if(this.settings.initial instanceof Array){if("object"!==typeof this.settings.defaultProps)throw"`defaultProps` is not an object.";if(-1===a.inArray(typeof this.settings.debug,["number","boolean"]))throw"`debug` is not a number or boolean.";}else throw"`initial` is not an array.";this.settings.minWidth=Math.max(1,
this.settings.minWidth);this.settings.maxWidth=Math.max(1,this.settings.maxWidth);this.settings.leftPadding=Math.max(0,this.settings.leftPadding);this.settings.leftPaddingMobile=Math.max(0,this.settings.leftPaddingMobile);this.settings.rightPadding=Math.max(0,this.settings.rightPadding);this.settings.rightPaddingMobile=Math.max(0,this.settings.rightPaddingMobile);this.settings.overlapDistance=Math.max(0,this.settings.overlapDistance);this.$obj.data("chromeTabz",this);this.$bar=a('<div class="-bar"></div>');
this.$content=a('<div class="-content"></div>');this.$bottomLine=a('<div class="-bottom-line"></div>');this.$viewz=a('<div class="-viewz"></div>');this.$styles=a("<style></style>");this.id=++h;this.draggabillyInstances=[];this.alwaysOnStyles="\n        @media (max-width: 767px) {\n          .chrome-tabz.-id-"+this.id+" > .-bar {\n            padding-left: calc("+this.settings.leftPaddingMobile+"px + 1.2em);\n            padding-right: calc("+this.settings.rightPaddingMobile+"px + 1.2em);\n          }\n        }\n        @media (min-width: 768px) {\n          .chrome-tabz.-id-"+
this.id+" > .-bar {\n            padding-left: calc("+this.settings.leftPadding+"px + 1.2em);\n            padding-right: calc("+this.settings.rightPadding+"px + 1.2em);\n          }\n        }";this.$obj.trigger("constructed",[this]);this.initialize()};c.prototype.initialize=function(){this.addClasses();this.addBar();this.addContent();this.addBottomLine();this.addStyles();this.addViewz();this.addEvents();this.configureLayout();this.fixStackingOrder();this.addDraggabilly();this.settings.initial.length&&
this.addTabz(this.settings.initial);this.$obj.trigger("initialized",[this])};c.prototype.destroy=function(){this.removeDraggabilly();this.$tabz.remove();this.removeEvents();this.removeViewz();this.removeStyles();this.removeBottomLine();this.removeContent();this.removeBar();this.removeClasses();this.$obj.removeData("chromeTabz");this.$obj.trigger("destroyed",[this]);this.$obj.off(".chrome-tabz")};c.prototype.addClasses=function(){this.$obj.addClass("chrome-tabz");this.$obj.addClass("-id-"+this.id)};
c.prototype.removeClasses=function(){this.$obj.removeClass("chrome-tabz");this.$obj.removeClass("-id-"+this.id)};c.prototype.addBar=function(){this.$obj.append(this.$bar)};c.prototype.removeBar=function(){this.$bar.remove()};c.prototype.addContent=function(){this.$bar.append(this.$content)};c.prototype.removeContent=function(){this.$content.remove()};c.prototype.addBottomLine=function(){this.$bar.append(this.$bottomLine)};c.prototype.removeBottomLine=function(){this.$bottomLine.remove()};c.prototype.addStyles=
function(){this.$bar.append(this.$styles);this.$styles.html(this.alwaysOnStyles)};c.prototype.removeStyles=function(){this.$styles.remove()};c.prototype.addViewz=function(){this.settings.viewz&&(this.$obj.append(this.$viewz),new f(a.extend({},{parentObj:this.$obj,type:this.settings.viewz,defaultProps:this.settings.defaultProps})))};c.prototype.removeViewz=function(){this.settings.viewz&&(this.$viewz.data("chromeTabViewz").destroy(),this.$viewz.remove())};c.prototype.addEvents=function(){var b=this;
a(d).on("resize.chrome-tabz.id-"+this.id,function(a){return b.configureLayout()});if(this.settings.allowDoubleClick)this.$obj.on("dblclick.chrome-tabz",function(a){return b.addTab()});this.$obj.on("click.chrome-tabz",function(c){c=a(c.target);c.hasClass("-tab")?b.setCurrentTab(c):c.hasClass("-favicon")?b.setCurrentTab(c.parent(".-tab")):c.hasClass("-title")?b.setCurrentTab(c.parent(".-tab")):c.hasClass("-close")&&b.removeTab(c.parent(".-tab"))})};c.prototype.removeEvents=function(){a(d).off(".chrome-tabz.id-"+
this.id);this.$obj.off(".chrome-tabz")};c.prototype.configureLayout=function(){var b=this;this.$tabz.width(this.tabWidth);this.settings.allowDragNDrop&&(this.$tabz.removeClass("-just-dragged"),this.$tabz.removeClass("-currently-dragged"));requestAnimationFrame(function(){var c="";a.each(b.tabPositions,function(a,e){c+=".chrome-tabz.-id-"+b.id+" > .-bar > .-content > .-tab:nth-child("+(a+1)+") {\n            transform: translate3d("+e+"px, 0, 0);\n          }"});b.$styles.html(b.alwaysOnStyles+c)})};
c.prototype.fixStackingOrder=function(){var b=this,c=this.$tabz.length;this.$tabz.each(function(e,d){d=a(d);e=c-e;d.hasClass("-current")&&(e=c+2,b.$bottomLine.css({zindex:c+1}));d.css({zindex:e})})};c.prototype.addDraggabilly=function(){var b=this;this.settings.allowDragNDrop&&(this.removeDraggabilly(),this.$tabz.each(function(c,d){var e=a(d),k=b.tabPositions[c];c=new g(e[0],{axis:"x",containment:b.$content});b.draggabillyInstances.push(c);c.on("dragStart",function(){b.$tabz.removeClass("-just-dragged");
b.$tabz.removeClass("-currently-dragged");b.fixStackingOrder();b.$bar.addClass("-dragging");e.addClass("-currently-dragged");b.$obj.trigger("tabDragStarted",[e,b])});c.on("dragMove",function(a,c,d){a=b.$tabz;c=e.index();var f=b.effectiveTabWidth;d=Math.floor((k+d.x+f/2)/f);d=Math.max(0,Math.min(Math.max(0,a.length-1),d));c!==d&&(e[d<c?"insertBefore":"insertAfter"](a.eq(d)),b.$obj.trigger("tabDragMoved",[e,{prevIndex:c,newIndex:d},b]))});c.on("dragEnd",function(){var a=parseFloat(e.css("left"),10);
e.css({transform:"translate3d(0, 0, 0)"});requestAnimationFrame(function(){e.css({left:0,transform:"translate3d("+a+"px, 0, 0)"});requestAnimationFrame(function(){e.addClass("-just-dragged");e.removeClass("-currently-dragged");setTimeout(function(){return e.removeClass("-just-dragged")},500);b.setCurrentTab(e);requestAnimationFrame(function(){b.addDraggabilly();e.css({transform:""});b.$bar.removeClass("-dragging");b.$obj.trigger("tabDragStopped",[e,e.index(),b])})})})})}))};c.prototype.removeDraggabilly=
function(){this.settings.allowDragNDrop&&(a.each(this.draggabillyInstances,function(a,c){return c.destroy()}),this.draggabillyInstances=[])};c.prototype.addTab=function(a,c){return this.addTabz([a],void 0===c?!0:c)};c.prototype.addTabz=function(b,c){c=void 0===c?!0:c;var e=this,d=a();if(!(b instanceof Array&&b.length))throw"Missing or invalid property sets.";a.each(b,function(b,c){if(c&&"object"!==typeof c)throw"Invalid properties.";var k=a('\n    <div class="-tab">\n      <div class="-background">\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg">\n          <defs>\n            <symbol id="topleft" viewBox="0 0 214 29">\n              <path d="M14.3 0.1L214 0.1 214 29 0 29C0 29 12.2 2.6 13.2 1.1 14.3-0.4 14.3 0.1 14.3 0.1Z" />\n            </symbol>\n            <symbol id="topright" viewBox="0 0 214 29">\n              <use xlink:href="#topleft" />\n            </symbol>\n            <clipPath id="crop">\n              <rect class="mask" width="100%" height="100%" x="0" />\n            </clipPath>\n          </defs>\n          <svg width="50%" height="100%" transfrom="scale(-1, 1)">\n            <use xlink:href="#topleft" width="214" height="29" class="-background" />\n            <use xlink:href="#topleft" width="214" height="29" class="-shadow" />\n          </svg>\n          <g transform="scale(-1, 1)">\n            <svg width="50%" height="100%" x="-100%" y="0">\n              <use xlink:href="#topright" width="214" height="29" class="-background" />\n              <use xlink:href="#topright" width="214" height="29" class="-shadow" />\n            </svg>\n          </g>\n        </svg>\n      </div>\n      <div class="-favicon"></div>\n      <div class="-title"></div>\n      <div class="-close"></div>\n    </div>\n  ');
e.$content.append(k);k.addClass("-just-added");setTimeout(function(){return k.removeClass("-just-added")},500);e.$obj.trigger("tabAdded",[k,e]);e.updateTab(k,c);d=d.add(k)});c&&this.setCurrentTab(d.first());this.configureLayout();this.fixStackingOrder();this.addDraggabilly();return d};c.prototype.removeTab=function(b){if(!(b instanceof a&&b.length))throw"Missing or invalid $tab.";b=b.first();return this.removeTabz(b)};c.prototype.removeCurrentTab=function(){if(this.$currentTab.length)return this.removeTab(this.$currentTab)};
c.prototype.removeTabz=function(b){var c=this;if(!(b instanceof a&&b.length))throw"Missing or invalid $tabz.";b.each(function(b,e){b=a(e);b.hasClass("-current")&&(b.prev(".-tab").length?c.setCurrentTab(b.prev(".-tab")):b.next(".-tab").length?c.setCurrentTab(b.next(".-tab")):c.setCurrentTab(void 0));c.$obj.trigger("tabBeingRemoved",[b,c]);b.remove();c.$obj.trigger("tabRemoved",[b,c])});this.configureLayout();this.fixStackingOrder();this.addDraggabilly()};c.prototype.updateTab=function(b,c,d){if(!(b instanceof
a&&b.length))throw"Missing or invalid $tab.";if(c&&"object"!==typeof c)throw"Invalid properties.";b=b.first();var e=b.data("props")||{},f=c||{};c=a.extend(!0,{},this.settings.defaultProps,e,f);b.data("props",c);c.favicon?"loading"===c.favicon?b.find("> .-favicon").css({"background-image":""}).attr("data-favicon","loading"):"default"===c.favicon?b.find("> .-favicon").css({"background-image":""}).attr("data-favicon","default"):b.find("> .-favicon").css({"background-image":"url('"+c.favicon+"')"}).attr("data-favicon",
""):b.find("> .-favicon").css({"background-image":"none"}).attr("data-favicon","");b.find("> .-title").text(c.title);b.find("> .-close")[c.allowClose?"show":"hide"]();this.$obj.trigger("tabUpdated",[b,c,d,e,f,this])};c.prototype.setCurrentTab=function(b){if(b&&!(b instanceof a&&b.length))throw"Missing or invalid $tab.";b=b?b.first():a();this.$tabz.removeClass("-current");b.addClass("-current");this.fixStackingOrder();this.$obj.trigger("currentTabChanged",[b,this])};$jscomp.global.Object.defineProperties(c.prototype,
{$tabz:{configurable:!0,enumerable:!0,get:function(){return this.$content.find("> .-tab")}},$currentTab:{configurable:!0,enumerable:!0,get:function(){return this.$tabz.filter(".-current")}},tabWidth:{configurable:!0,enumerable:!0,get:function(){var a=this.$content.innerWidth()-this.settings.overlapDistance,a=a/this.$tabz.length+this.settings.overlapDistance;return Math.max(this.settings.minWidth,Math.min(this.settings.maxWidth,a))}},effectiveTabWidth:{configurable:!0,enumerable:!0,get:function(){return this.tabWidth-
this.settings.overlapDistance}},tabPositions:{configurable:!0,enumerable:!0,get:function(){var a=[],c=0,d=this.effectiveTabWidth;this.$tabz.each(function(b,e){a.push(c);c+=d});return a}}});var f=function(b){this.defaultSettings={parentObj:".chrome-tabz",type:"iframes",defaultProps:{url:"https://duckduckgo.com/?kae=b&kak=-1&kao=-1&k1=-1&kt=p&kj=f5f5f5&ka=p&kf=1&kam=google-maps&km=l&ko=1",title:"New Tab",favicon:"default",loadingFavicon:"loading",unknownUrlTitle:"Web Page",allowClose:!0,viewAttrs:{}},
debug:!1};if(b&&"object"!==typeof b)throw"`settings` is not an object.";this.settings=a.extend(!0,{},this.defaultSettings,b||{});if(-1===a.inArray(typeof this.settings.parentObj,["string","object"]))throw"`parentObj` must be a string selector, jQuery, or an element in the DOM.";if(1!==(this.$parentObj=a(this.settings.parentObj).first()).length)throw"Unable to locate a single `parentObj` in the DOM.";if((this.$parentObj._=this.$parentObj.data("chromeTabz"))instanceof c){if(1!==(this.$obj=this.$parentObj.find("> .-viewz")).length)throw"Unable to locate a single `> .-viewz` object in the DOM.";
if(-1===a.inArray(this.settings.type,["iframes","webviews"]))throw"`type` must be one of: `iframes` or `webviews`.";if("object"!==typeof this.settings.defaultProps)throw"`defaultProps` is not an object.";if(-1===a.inArray(typeof this.settings.debug,["number","boolean"]))throw"`debug` is not a number or boolean.";}else throw"Unable to locate a `chromeTabz` instance in the `parentObj`.";this.$obj.data("chromeTabViewz",this);this.viewIndex=[];this.$content=a('<div class="-content"></div>');this.$obj.trigger("constructed",
[this]);this.initialize()};f.prototype.initialize=function(){this.addContent();this.addEvents();this.$obj.trigger("initialized",[this])};f.prototype.destroy=function(){this.$viewz.remove();this.removeEvents();this.removeContent();this.$obj.removeData("chromeTabViewz");this.$obj.trigger("destroyed",[this]);this.$obj.off(".chrome-tabz")};f.prototype.addContent=function(){this.$obj.append(this.$content)};f.prototype.removeContent=function(){this.$content.remove()};f.prototype.addEvents=function(){var a=
this;this.$parentObj.on("tabAdded.chrome-tabz",function(b,c){return a.addView(c)});this.$parentObj.on("tabBeingRemoved.chrome-tabz",function(b,c){return a.removeView(void 0,c)});this.$parentObj.on("tabDragMoved.chrome-tabz",function(b,c,d){return a.setViewIndex(void 0,d.prevIndex,d.newIndex)});this.$parentObj.on("tabUpdated.chrome-tabz",function(b,c,d,f){return a.updateView(void 0,c,d,f)});this.$parentObj.on("currentTabChanged.chrome-tabz",function(b,c){return a.setCurrentView(void 0,c)})};f.prototype.removeEvents=
function(){this.$parentObj.off(".chrome-tabz")};f.prototype.addView=function(b){if(!(b instanceof a&&b.length))throw"Missing or invalid $tab.";b=b.first();var c=a("webviews"===this.settings.type?'\n    <webview class="-view"></webview>\n  ':'\n    <iframe class="-view" sandbox="allow-scripts allow-same-origin allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-presentation allow-orientation-lock allow-pointer-lock"></iframe>\n  ');c.data("urlCounter",0);this.$content.append(c);
this.setViewIndex(c,void 0,b.index());this.$obj.trigger("viewAdded",[c,this]);return c};f.prototype.removeView=function(b,c){!(b instanceof a&&b.length)&&c instanceof a&&c.length&&(b=this.viewAtIndex(c.index(),!0));if(!(b instanceof a&&b.length))throw"Missing or invalid $view.";b=b.first();this.$obj.trigger("viewBeingRemoved",[b,this]);this.removeViewFromIndex(b);b.remove();this.$obj.trigger("viewRemoved",[b,this])};f.prototype.removeViewFromIndex=function(b){if(!(b instanceof a&&b.length))throw"Missing or invalid $view.";
b=b.first();this.viewIndex.splice(this.mapViewIndex(b,!0),1)};f.prototype.viewAtIndex=function(b,c){if("number"!==typeof b||isNaN(b)||0>b)throw"Missing or invalid index.";b=this.viewIndex[b]||void 0;if(c&&!(b instanceof a&&b.length))throw"No $view with that index.";return b instanceof a&&b.length?b.first():void 0};f.prototype.mapViewIndex=function(b,c){if(!(b instanceof a&&b.length))throw"Missing or invalid $view.";b=b.first();for(var d=0;d<this.viewIndex.length;d++)if(this.viewIndex[d].is(b))return d;
if(c)throw"$view not in the index.";return-1};f.prototype.setViewIndex=function(b,c,d){b instanceof a&&b.length||void 0===c||(b=this.viewAtIndex(c,!0));if(!(b instanceof a&&b.length))throw"Missing or invalid $view.";if("number"!==typeof d||isNaN(d)||0>d)throw"Missing or invalid newIndex.";b=b.first();-1!==(c=this.mapViewIndex(b))&&this.viewIndex.splice(c,1);this.viewIndex.splice(d,0,b);this.$obj.trigger("viewIndexed",[b,{prevIndex:c,newIndex:d},this])};f.prototype.updateView=function(b,c,d,f){var e=
this;if("view::state-change"!==f){!(b instanceof a&&b.length)&&c instanceof a&&c.length&&(b=this.viewAtIndex(c.index(),!0));if(!(b instanceof a&&b.length))throw"Missing or invalid $view.";if(d&&"object"!==typeof d)throw"Invalid properties.";b=b.first();c=b.data("props")||{};var g=d||{};d=a.extend(!0,{},this.settings.defaultProps,c,g);b.data("props",d);a.each(d.viewAttrs,function(a,c){"src"!==a.toLowerCase()&&b.attr(a,null===c?"":c)});if("undefined"===typeof c.url||c.url!==d.url){var h=function(){return 1===
Number(b.data("urlCounter"))},l=function(c){c=void 0===c?!0:c;var d=e.$parentObj._.$tabz.eq(e.mapViewIndex(b,c));if(c&&!(d instanceof a&&d.length))throw"Missing $tab.";return d};if("webviews"===this.settings.type){var k="";b.off("did-start-loading.chrome-tabz").on("did-start-loading.chrome-tabz",function(a){a=l();var c=b.data("props");b.data("urlCounter",b.data("urlCounter")+1);var d=c.loadingFavicon,f="function"===typeof b.getTitle?b.getTitle():"",f=!f&&h()?c.url||c.title:f;e.$parentObj._.updateTab(a,
{favicon:d,title:f?f:"..."},"view::state-change");e.$obj.trigger("viewStartedLoading",[b,e])});b.off("did-stop-loading.chrome-tabz").on("did-stop-loading.chrome-tabz",function(a){a=l();var c=b.data("props"),c=(c=!k&&h()?c.favicon:k)?c:e.settings.defaultProps.favicon;e.$parentObj._.updateTab(a,{favicon:c},"view::state-change");e.$obj.trigger("viewStoppedLoading",[b,e])});b.off("page-favicon-updated.chrome-tabz").on("page-favicon-updated.chrome-tabz",function(a){var c=l(),d=b.data("props");k=a.originalEvent.favicons.length?
a.originalEvent.favicons[0]:"";a=(a=!k&&h()?d.favicon:k)?a:e.settings.defaultProps.favicon;"function"!==typeof b.isLoading||b.isLoading()||e.$parentObj._.updateTab(c,{favicon:a},"view::state-change");e.$obj.trigger("viewFaviconUpdated",[b,a,e])});b.off("page-title-updated.chrome-tabz").on("page-title-updated.chrome-tabz",function(a){var c=l();b.data("props");a=(a=(a=a.originalEvent.title||"")||"function"!==typeof b.getURL?a:b.getURL())?a:e.settings.defaultProps.unknownUrlTitle;e.$parentObj._.updateTab(c,
{title:a},"view::state-change");e.$obj.trigger("viewTitleUpdated",[b,a,e])})}else{var m=a(b[0].contentWindow),n;m.off("unload.chrome-tabz").on("unload.chrome-tabz",n=function(c){c=l(!1);var d=b.data("props");if(c instanceof a&&c.length&&a.contains(document,c[0])&&d&&a.contains(document,b[0])){b.data("urlCounter",b.data("urlCounter")+1);var f=d.loadingFavicon,g=h()?d.url:"",g=!g&&h()?d.title:g;e.$parentObj._.updateTab(c,{favicon:f,title:g?g:"..."},"view::state-change");e.$obj.trigger("viewStartedLoading",
[b,e])}});b.off("load.chrome-tabz").on("load.chrome-tabz",function(c){c=l();var d=b.data("props");try{m.off("unload.chrome-tabz").on("unload.chrome-tabz",n)}catch(r){}var f;a:{try{f=b.contents().prop("URL");break a}catch(r){}f=void 0}f=f||"";f=!f&&h()?d.url:f;var g;a:{try{g=a.trim(b.contents().find('head > link[rel="shortcut icon"]').prop("href"));break a}catch(r){}g=void 0}g=g||"";g=!g&&h()?d.favicon:g;g=(g=!g&&f?f.replace(/^(https?:\/\/[^\/]+).*$/i,"$1")+"/favicon.ico":g)?g:e.settings.defaultProps.favicon;
var k;a:{try{k=a.trim(b.contents().find("head > title").text());break a}catch(r){}k=void 0}k=k||"";k=(k=(k=!k&&h()?d.title:k)?k:f)?k:e.settings.defaultProps.unknownUrlTitle;e.$parentObj._.updateTab(c,{favicon:g,title:k},"view::state-change");e.$obj.trigger("viewFaviconUpdated",[b,g,e]);e.$obj.trigger("viewTitleUpdated",[b,k,e]);e.$obj.trigger("viewStoppedLoading",[b,e])})}b.attr("src",d.url)}this.$obj.trigger("viewUpdated",[b,d,f,c,g,this])}};f.prototype.setCurrentView=function(b,c){!(b instanceof
a&&b.length)&&c instanceof a&&c.length&&(b=this.viewAtIndex(c.index(),!0));if(b&&!(b instanceof a&&b.length))throw"Missing or invalid $view.";b=b?b.first():a();this.$viewz.removeClass("-current");b.addClass("-current");this.$obj.trigger("currentViewChanged",[b,this])};$jscomp.global.Object.defineProperties(f.prototype,{$viewz:{configurable:!0,enumerable:!0,get:function(){return this.$content.find("> .-view")}},$currentView:{configurable:!0,enumerable:!0,get:function(){return this.$viewz.filter(".-current")}}});
a.fn.chromeTabz=function(b){return this.each(function(d,f){a(f).data("chromeTabz")||new c(a.extend({},b||{},{obj:f}))})};return a.fn.chromeTabz})},{draggabilly:1,jquery:void 0}]},{},[6]);})();
